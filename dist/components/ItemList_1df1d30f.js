define("components/ItemList",function(t,e,s){"use strict";var i=t("components/Spinner"),a=t("components/Item"),n=t("runtimes/store/api"),r=!0;Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"item-list",components:{Spinner:i.default,Item:a.default},props:{type:String},data:function(){var t={loading:!1,transition:"slide-up",displayedPage:r?Number(this.$store.state.route.params.page)||1:-1,displayedItems:r?this.$store.getters.activeItems:[]};return r=!1,t},computed:{page:function(){return Number(this.$store.state.route.params.page)||1},maxPage:function(){var t=this.$store.state,e=t.itemsPerPage,s=t.lists;return Math.ceil(s[this.type].length/e)},hasMore:function(){return this.page<this.maxPage}},beforeMount:function(){var t=this;this.loadItems(this.page),this.unwatchList=n.watchList(this.type,function(e){t.$store.commit("SET_LIST",{type:t.type,ids:e}),t.$store.dispatch("ENSURE_ACTIVE_ITEMS").then(function(){t.displayedItems=t.$store.getters.activeItems})})},beforeDestroy:function(){this.unwatchList()},watch:{page:function(t,e){this.loadItems(t,e)}},methods:{loadItems:function(t,e){var s=this;void 0===t&&(t=this.page),void 0===e&&(e=-1),this.loading=!0,this.$store.dispatch("FETCH_LIST_DATA",{type:this.type}).then(function(){return s.page<0||s.page>s.maxPage?void s.$router.replace("/"+s.type+"/1"):(s.transition=-1===e?null:t>e?"slide-left":"slide-right",s.displayedPage=t,s.displayedItems=s.$store.getters.activeItems,void(s.loading=!1))})}}};var o;o=e&&e.__esModule&&e.default?e.default:s.exports,o.render=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news-view"},[s("spinner",{attrs:{show:t.loading}}),s("div",{staticClass:"news-list-nav"},[t.page>1?s("router-link",{attrs:{to:"/"+t.type+"/"+(t.page-1)}},[t._v("< prev")]):s("a",{staticClass:"disabled"},[t._v("< prev")]),t._v(" "),s("span",[t._v(t._s(t.page)+"/"+t._s(t.maxPage))]),t.hasMore?s("router-link",{attrs:{to:"/"+t.type+"/"+(t.page+1)}},[t._v("more >")]):s("a",{staticClass:"disabled"},[t._v("more >")])],1),s("transition",{attrs:{name:t.transition}},[t.displayedPage>0?s("div",{key:t.displayedPage,staticClass:"news-list"},[s("transition-group",{attrs:{tag:"ul",name:"item"}},t._l(t.displayedItems,function(t){return s("item",{key:t.id,attrs:{item:t}})}))],1):t._e()])],1)},o.staticRenderFns=[],function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}(".news-view{padding-top:45px}.news-list-nav,.news-list{background-color:#fff;border-radius:2px}.news-list-nav{padding:15px 30px;position:fixed;text-align:center;top:55px;left:0;right:0;z-index:998;box-shadow:0 1px 2px rgba(0,0,0,.1)}.news-list-nav a{margin:0 1em}.news-list-nav .disabled{color:#ccc}.news-list{position:absolute;margin:30px 0;width:100%;-webkit-transition:all .5s cubic-bezier(0.55,0,.1,1);transition:all .5s cubic-bezier(0.55,0,.1,1)}.news-list ul{list-style-type:none;padding:0;margin:0}.slide-left-enter,.slide-right-leave-active{opacity:0;-webkit-transform:translate(30px,0);transform:translate(30px,0)}.slide-left-leave-active,.slide-right-enter{opacity:0;-webkit-transform:translate(-30px,0);transform:translate(-30px,0)}.item-move,.item-enter-active,.item-leave-active{-webkit-transition:all .5s cubic-bezier(0.55,0,.1,1);transition:all .5s cubic-bezier(0.55,0,.1,1)}.item-enter{opacity:0;-webkit-transform:translate(30px,0);transform:translate(30px,0)}.item-leave-active{position:absolute;opacity:0;-webkit-transform:translate(30px,0);transform:translate(30px,0)}@media (max-width:600px){.news-list{margin:10px 0}}")});